PRINT '======= DB TRANSACTION FINISH ========'
PRINT '- Success: Committing Transaction...'
COMMIT TRANSACTION;
END TRY

BEGIN CATCH
PRINT '======= DB TRANSACTION CATCH ========'
If XACT_STATE()=1
  BEGIN
  PRINT '- Success: Committing Transaction...'
  COMMIT TRANSACTION;
  END
ELSE IF XACT_STATE()=-1
  BEGIN
  PRINT '- Error: Rolling Back Transaction...'
  ROLLBACK TRANSACTION;
  END;
END CATCH;
GO
